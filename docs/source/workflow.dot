   digraph G{
        
    compound=true;
    #rankdir = LR;    
    # splines=ortho

    subgraph cluster0 {
      label = "init\nfrom different fileformats"
      
      axdf[label="Automated.xdf"]
      nxdf[label="Manual.xdf"]
      smartmove[label="smartmove TMS"]
      mat[label="Matlab Protocol"]
      }

    subgraph cluster1{
    rank = 1     
     Annotations
     TraceData
    }
    
    subgraph cluster2{
    rank = 1     
     ForkedAnnotations
     ForkedTraceData
    }
        

    cache[label="annotated CacheFile"]
    cache1[label="another CacheFile"]
    merged[label="merged CacheFile"]

    merge[shape="rect", color=magenta]
    cache -> merge[color=magenta]
    cache1 -> merge[color=magenta]
    merge -> merged

    smartmove -> Annotations[ltail=cluster0] [label="init", color="blue"];    
    Annotations -> TraceData [label="collect", color="blue"];
    TraceData -> cache[ltail=cluster1, lhead=cluster2] [label="populate", color="blue"];
    cache -> ForkedAnnotations [lhead=cluster1] [label="fork", color="magenta"];
  
    ForkedAnnotations -> ForkedTraceData [label="collect", color="blue"];

    cache -> cache [label="inspect", color=blue]
    
   }
